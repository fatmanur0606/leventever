<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Levent'e Verme</title>
    <script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-database.js"></script>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
        }
        #gif {
            display: none;
            width: 300px;
            height: auto;
            margin-top: 20px;
        }
        #verButton {
            font-size: 20px;
            padding: 10px 20px;
            background-color: red;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 10px;
        }
        #verButton:disabled {
            background-color: gray;
            cursor: not-allowed;
        }
        #counter {
            font-size: 24px;
            font-weight: bold;
            margin-top: 10px;
        }
        #totalText {
            font-size: 20px;
            font-weight: bold;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Levent'e Verme</h1>
    <p id="totalText">Bugüne kadar <span id="counter">0</span> kere Levent'e verildi!</p>
    <button id="verButton">Levent'e Ver</button>
    <img id="gif" src="levent.gif" alt="Levent'e Verildi">

    <script>
        // Firebase yapılandırması
        const firebaseConfig = {
            apiKey: "AIzaSyDfJld2_W5dNzm6sjsCCQeoeSHg8qFzo7Y",
            authDomain: "leventever-efe64.firebaseapp.com",
            databaseURL: "https://leventever-efe64-default-rtdb.firebaseio.com/", // Firebase Database URL burada!
            projectId: "leventever-efe64",
            storageBucket: "leventever-efe64.appspot.com",
            messagingSenderId: "356643416297",
            appId: "1:356643416297:web:0840af178fda3a775f2878",
            measurementId: "G-06J8WSJBBK"
        };

        // Firebase başlat
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const counterRef = database.ref('counter');

        const button = document.getElementById('verButton');
        const gif = document.getElementById('gif');
        const counter = document.getElementById('counter');
        const totalText = document.getElementById('totalText');

        // Firebase'den veriyi al ve sayacı güncelle
        counterRef.on('value', (snapshot) => {
            const count = snapshot.val() || 0;
            counter.textContent = count;
            totalText.innerHTML = `Bugüne kadar <span id="counter">${count}</span> kere Levent'e verildi!`;
        });

        button.addEventListener('click', () => {
            button.disabled = true; // Çift tıklamayı önle
            counterRef.transaction((currentValue) => {
                return (currentValue || 0) + 1;
            }).then(() => {
                gif.style.display = 'block';
                setTimeout(() => {
                    gif.style.display = 'none';
                    button.disabled = false; // Tekrar tıklanabilir yap
                }, 2000);
            });
        });
    </script>
</body>
</html>
